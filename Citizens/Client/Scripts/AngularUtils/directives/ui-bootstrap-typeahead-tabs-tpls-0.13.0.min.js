/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.0 - 2015-05-02
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.tabs","ui.bootstrap.typeahead","ui.bootstrap.position","ui.bootstrap.bindHtml"]),angular.module("ui.bootstrap.tpls",["template/tabs/tab.html","template/tabs/tabset.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,a=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(a,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){a.push(t),1===a.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var i=a.indexOf(t);if(t.active&&a.length>1&&!n){var r=i==a.length-1?i-1:i+1;e.select(a[r])}a.splice(i,1)};var n;t.$on("$destroy",function(){n=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,a){t.vertical=angular.isDefined(a.vertical)?t.$parent.$eval(a.vertical):!1,t.justified=angular.isDefined(a.justified)?t.$parent.$eval(a.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(a,n,i){return function(a,n,r,o){a.$watch("active",function(t){t&&o.select(a)}),a.disabled=!1,r.disable&&a.$parent.$watch(t(r.disable),function(t){a.disabled=!!t}),r.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),a.$parent.$watch(t(r.disabled),function(t){a.disabled=!!t})),a.select=function(){a.disabled||(a.active=!0)},o.addTab(a),a.$on("$destroy",function(){o.removeTab(a)}),a.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,a,n){var i=e.$eval(n.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:a.append(e)})})}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(a){var n=a.match(e);if(!n)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+a+'".');return{itemName:n[3],source:t(n[4]),viewMapper:t(n[2]||n[1]),modelMapper:t(n[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,a,n,i,r,o){var l=[9,13,27,38,40];return{require:"ngModel",link:function(c,s,d,u){var p,f=c.$eval(d.typeaheadMinLength)||1,h=c.$eval(d.typeaheadWaitMs)||0,b=c.$eval(d.typeaheadEditable)!==!1,m=e(d.typeaheadLoading).assign||angular.noop,v=e(d.typeaheadOnSelect),g=d.typeaheadInputFormatter?e(d.typeaheadInputFormatter):void 0,$=d.typeaheadAppendToBody?c.$eval(d.typeaheadAppendToBody):!1,y=c.$eval(d.typeaheadFocusFirst)!==!1,w=e(d.ngModel).assign,x=o.parse(d.typeahead),T=c.$new();c.$on("$destroy",function(){T.$destroy()});var C="typeahead-"+T.$id+"-"+Math.floor(1e4*Math.random());s.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var E=angular.element("<div typeahead-popup></div>");E.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(d.typeaheadTemplateUrl)&&E.attr("template-url",d.typeaheadTemplateUrl);var A=function(){T.matches=[],T.activeIdx=-1,s.attr("aria-expanded",!1)},k=function(t){return C+"-option-"+t};T.$watch("activeIdx",function(t){0>t?s.removeAttr("aria-activedescendant"):s.attr("aria-activedescendant",k(t))});var q=function(t){var e={$viewValue:t};m(c,!0),a.when(x.source(c,e)).then(function(a){var n=t===u.$viewValue;if(n&&p)if(a&&a.length>0){T.activeIdx=y?0:-1,T.matches.length=0;for(var i=0;i<a.length;i++)e[x.itemName]=a[i],T.matches.push({id:k(i),label:x.viewMapper(T,e),model:a[i]});T.query=t,T.position=$?r.offset(s):r.position(s),T.position.top=T.position.top+s.prop("offsetHeight"),s.attr("aria-expanded",!0)}else A();n&&m(c,!1)},function(){A(),m(c,!1)})};A(),T.query=void 0;var U,M=function(t){U=n(function(){q(t)},h)},I=function(){U&&n.cancel(U)};u.$parsers.unshift(function(t){return p=!0,t&&t.length>=f?h>0?(I(),M(t)):q(t):(m(c,!1),I(),A()),b?t:t?void u.$setValidity("editable",!1):(u.$setValidity("editable",!0),t)}),u.$formatters.push(function(t){var e,a,n={};return b||u.$setValidity("editable",!0),g?(n.$model=t,g(c,n)):(n[x.itemName]=t,e=x.viewMapper(c,n),n[x.itemName]=void 0,a=x.viewMapper(c,n),e!==a?e:t)}),T.select=function(t){var e,a,i={};i[x.itemName]=a=T.matches[t].model,e=x.modelMapper(c,i),w(c,e),u.$setValidity("editable",!0),u.$setValidity("parse",!0),v(c,{$item:a,$model:e,$label:x.viewMapper(c,i)}),A(),n(function(){s[0].focus()},0,!1)},s.bind("keydown",function(t){0!==T.matches.length&&-1!==l.indexOf(t.which)&&(-1!=T.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(T.activeIdx=(T.activeIdx+1)%T.matches.length,T.$digest()):38===t.which?(T.activeIdx=(T.activeIdx>0?T.activeIdx:T.matches.length)-1,T.$digest()):13===t.which||9===t.which?T.$apply(function(){T.select(T.activeIdx)}):27===t.which&&(t.stopPropagation(),A(),T.$digest()))}),s.bind("blur",function(){p=!1});var H=function(t){s[0]!==t.target&&(A(),T.$digest())};i.bind("click",H),c.$on("$destroy",function(){i.unbind("click",H),$&&S.remove(),E.remove()});var S=t(E)(T);$?i.find("body").append(S):s.after(S)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,a){t.templateUrl=a.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(n,i,r){var o=a(r.templateUrl)(n.$parent)||"template/typeahead/typeahead-match.html";t(o).then(function(t){e(t.trim())(n,function(t){i.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,a){return a?(""+e).replace(new RegExp(t(a),"gi"),"<strong>$&</strong>"):e}}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function a(t,a){return t.currentStyle?t.currentStyle[a]:e.getComputedStyle?e.getComputedStyle(t)[a]:t.style[a]}function n(t){return"static"===(a(t,"position")||"static")}var i=function(e){for(var a=t[0],i=e.offsetParent||a;i&&i!==a&&n(i);)i=i.offsetParent;return i||a};return{position:function(e){var a=this.offset(e),n={top:0,left:0},r=i(e[0]);r!=t[0]&&(n=this.offset(angular.element(r)),n.top+=r.clientTop-r.scrollTop,n.left+=r.clientLeft-r.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:a.top-n.top,left:a.left-n.left}},offset:function(a){var n=a[0].getBoundingClientRect();return{width:n.width||a.prop("offsetWidth"),height:n.height||a.prop("offsetHeight"),top:n.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:n.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,a,n){var i,r,o,l,c=a.split("-"),s=c[0],d=c[1]||"center";i=n?this.offset(t):this.position(t),r=e.prop("offsetWidth"),o=e.prop("offsetHeight");var u={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(s){case"right":l={top:p[d](),left:u[s]()};break;case"left":l={top:p[d](),left:i.left-r};break;case"bottom":l={top:p[s](),left:u[d]()};break;default:l={top:i.top-o,left:u[d]()}}return l}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,a){e.addClass("ng-binding").data("$binding",a.bindHtmlUnsafe),t.$watch(a.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]);